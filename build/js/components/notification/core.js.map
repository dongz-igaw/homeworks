{"version":3,"sources":["../../../../src/js/components/notification/core.js"],"names":["define","data","helper","method","model","$","init","title","content","url","status","context","trim","JSON","stringify","$notificationBox","length","$helper","parseTemplate","appendTo","$notification","replace","$real","clone","addClass","height","_t","removeProc","clearTimeout","e","console","trace","stack","removeClass","setTimeout","stop","animate","paddingTop","paddingBottom","remove","padding","t","Math","min","max","find","css","transitionDuration","bind","add","event","preventDefault","stopPropagation","$this","call","location","href","template","notificationTypeDefault","notificationBox","jQuery"],"mappings":"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","file":"core.js","sourcesContent":["define([\r\n    '../../core/utils/data',\r\n    '../../core/utils/helper',\r\n    '../../core/utils/method',\r\n    '../../core/models/index'\r\n], (data, helper, method, model) => {\r\n    (function($) {\r\n        new method('notification', {\r\n            init: function (title, content, url, status) {\r\n                var context = this;\r\n\r\n                if (typeof url === 'undefined' || url === null || $.trim(url) === '') {\r\n                    url = null;\r\n                }\r\n\r\n                status = status || 'primary';\r\n\r\n                if (typeof title === 'undefined' || typeof content === 'undefined') {\r\n                    return false;\r\n                } else if (typeof content === 'object') {\r\n                    content = JSON.stringify(content);\r\n                }\r\n\r\n                var $notificationBox = $('.notification-box');\r\n                if ($notificationBox.length <= 0) {\r\n                    $notificationBox = $(context.$helper.parseTemplate('notificationBox'));\r\n                    $notificationBox.appendTo('body');\r\n                }\r\n\r\n                var $notification = $(context.$helper.parseTemplate('notificationTypeDefault', {\r\n                    status: status,\r\n                    title: title,\r\n                    content: content.replace(/\\r?\\n/gi, '<br />')\r\n                }));\r\n                var $real = $notification.clone();\r\n                $notification.addClass('notification-empty');\r\n                $notification.appendTo('.notification-box');\r\n                $real.addClass('notification-real');\r\n                var height = $notification.height();\r\n                $notification.height(0);\r\n                $notification.addClass('notification-anim');\r\n\r\n                var _t = null;\r\n                var removeProc = function () {\r\n                    try {\r\n                        clearTimeout(_t);\r\n                    } catch (e) {\r\n                        console.trace(e.stack);\r\n                    }\r\n\r\n                    $real.removeClass('notification-anim-start');\r\n                    setTimeout(function () {\r\n                        $real.stop().animate({\r\n                            height: 0,\r\n                            paddingTop: 0,\r\n                            paddingBottom: 0\r\n                        }, 300, function () {\r\n                            $real.remove();\r\n                        });\r\n                    }, 300);\r\n                };\r\n                setTimeout(function () {\r\n                    $notification.addClass('notification-anim-start').stop().animate({\r\n                        height: height,\r\n                        padding: '30px'\r\n                    }, 300);\r\n                    setTimeout(function () {\r\n                        $notification.remove();\r\n                        $real.appendTo($notificationBox);\r\n                        setTimeout(function () {\r\n                            var t = Math.min(Math.max(1000 / 10 * (title.length + content.length), 3000), 15000);\r\n                            $real.find('.notification-bar').css({\r\n                                transitionDuration: t + 'ms'\r\n                            });\r\n                            $real.addClass('notification-anim-start');\r\n                            _t = setTimeout(removeProc, t);\r\n                        }, 25);\r\n                    }, 300);\r\n                }, 25);\r\n\r\n                context.$helper.bind($real.add($real.find('.notification-btn-ok, .notification-btn-cancel')), 'click', function (event) {\r\n                    event.preventDefault();\r\n                    event.stopPropagation();\r\n                    var $this = $(this);\r\n                    removeProc.call();\r\n                });\r\n\r\n                context.$helper.bind($real.add($real.find('.notification-btn-ok')), 'click', function (event) {\r\n                    event.preventDefault();\r\n                    event.stopPropagation();\r\n                    var $this = $(this);\r\n                    if (url !== null) {\r\n                        location.href = url;\r\n                    }\r\n                });\r\n            },\r\n            template: {\r\n                /* jshint ignore:start */\r\n                /* @DATE 2016. 10. 04 */\r\n                /* @USER Kenneth */\r\n                /* @NOTE Template escaping. */\r\n                notificationTypeDefault: '<div class=\"notification notification-{status}\">\\\r\n                                            <div class=\"notification-bar\"></div>\\\r\n                                            <div class=\"notification-content\">\\\r\n                                                <h4 class=\"notification-header\">{title}</h4>\\\r\n                                                <div class=\"notification-body\">\\\r\n                                                    {content}\\\r\n                                                </div>\\\r\n                                            </div>\\\r\n                                            <div class=\"notification-btn-group\">\\\r\n                                                <a href=\"#\" class=\"notification-btn notification-btn-ok\">\\\r\n                                                    <span class=\"notification-btn-inner\">\\\r\n                                                        <i class=\"pe-7s-check\"></i>\\\r\n                                                    </span>\\\r\n                                                </a>\\\r\n                                                <a href=\"#\" class=\"notification-btn notification-btn-close\">\\\r\n                                                    <span class=\"notification-btn-inner\">\\\r\n                                                        <i class=\"pe-7s-close\"></i>\\\r\n                                                    </span>\\\r\n                                                </a>\\\r\n                                            </div>\\\r\n                                        </div>',\r\n                notificationBox: '<div class=\"notification-box\"></div>'\r\n                /* jshint ignore:end */\r\n            }\r\n        });\r\n    }(jQuery));\r\n});"]}