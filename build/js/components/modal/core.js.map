{"version":3,"sources":["../../../../src/js/components/modal/core.js"],"names":["define","data","helper","method","model","$","init","element","context","$btn","find","local","_visible","hasClass","$helper","bind","event","css","left","top","marginLeft","offsetWidth","marginTop","offsetHeight","children","length","$scoller","append","appendTo","maxWidth","$window","outerWidth","maxHeight","outerHeight","triggerHandler","unbind","add","preventDefault","stopPropagation","$this","_prototype","close","call","filter","ripple","update","_this","toggle","open","show","hide","siblings","attr","split","join","remove","_options","animation","not","addClass","display","$overlay","parseTemplate","insertAfter","promise","removeClass","template","overlay","options","jQuery"],"mappings":"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","file":"core.js","sourcesContent":["define([\r\n    '../../core/utils/data',\r\n    '../../core/utils/helper',\r\n    '../../core/utils/method',\r\n    '../../core/models/index'\r\n], (data, helper, method, model) => {\r\n    (function($) {\r\n        new method('modal, popup', {\r\n            init: function (element) {\r\n                var context = this;\r\n                var $btn = element.find('.modal-footer .btn');\r\n\r\n                this.local._visible = false;\r\n\r\n                if (element.hasClass('modal-full') === false) {\r\n                    this.$helper.bind(element, 'update', function (event) {\r\n                        element.css({\r\n                            left: 0,\r\n                            top: 0\r\n                        });\r\n\r\n                        element.css({\r\n                            left: '50%',\r\n                            top: '50%',\r\n                            marginLeft: -element[0].offsetWidth / 2,\r\n                            marginTop: -element[0].offsetHeight / 2\r\n                        });\r\n                    });\r\n                } else {\r\n                    if (element.children('.modal-inner').children('.modal-scroller').length < 1) {\r\n                        var $scoller = $('<div class=\"modal-scroller\"></div>');\r\n                        $scoller.append(element.children('.modal-inner').children());\r\n                        $scoller.appendTo(element.children('.modal-inner'));\r\n                    }\r\n\r\n                    this.$helper.bind(element, 'update', function (event) {\r\n                        element.find('> .modal-inner > .modal-scroller').css({\r\n                            maxWidth: context.element.$window.outerWidth(),\r\n                            maxHeight: context.element.$window.outerHeight()\r\n                        });\r\n                    }, true);\r\n                }\r\n\r\n                context.$helper.bind(this.element.$window, 'resize', function (event) {\r\n                    context.$helper.triggerHandler(element, 'update');\r\n                }, true);\r\n\r\n                context.$helper.unbind($btn.add(element.find('.btn-close')), 'click');\r\n\r\n                context.$helper.bind($btn.add(element.find('.btn-close')), 'click', function (event) {\r\n                    event.preventDefault();\r\n                    event.stopPropagation();\r\n                    var $this = $(this);\r\n                    context.local._prototype.close.call(context, element);\r\n                });\r\n\r\n                this.$helper.bind($btn.filter('.btn-submit'), 'click', function (event) {\r\n                    event.stopPropagation();\r\n                    element.triggerHandler('modal.submit');\r\n                });\r\n\r\n                this.$helper.bind(element.find('.btn-close'), 'click', function (event) {\r\n                    event.stopPropagation();\r\n                    element.triggerHandler('modal.cancel');\r\n                });\r\n\r\n                $btn.ripple();\r\n            },\r\n            method: {\r\n                update: function () {\r\n                    var context = this;\r\n                    context.$helper.triggerHandler(_this.element.$window, 'update');\r\n                },\r\n                toggle: function (element) {\r\n                    var context = this;\r\n                    if (context.local._visible === true) {\r\n                        context.local._prototype.close.call(context, element);\r\n                    } else {\r\n                        context.local._prototype.open.call(context, element);\r\n                    }\r\n                },\r\n                show: function (element) {\r\n                    var context = this;\r\n                    context.local._prototype.open.call(context, element);\r\n                },\r\n                hide: function (element) {\r\n                    var context = this;\r\n                    context.local._prototype.close.call(context, element);\r\n                },\r\n                open: function (element) {\r\n                    var context = this;\r\n\r\n                    context.local._visible = true;\r\n\r\n                    element.siblings('.' + element.attr('class').split(' ').join('.')).remove();\r\n\r\n                    if (context.local._options.animation === true) {\r\n                        element.siblings(':visible').not('.modal').addClass('modal-opener');\r\n                    }\r\n\r\n                    if (element.hasClass('modal-full')) {\r\n                        element.css({ display: 'table' });\r\n                    } else {\r\n                        element.show();\r\n                    }\r\n\r\n                    context.$helper.bind(element, 'click', function (event) {\r\n                        event.stopPropagation();\r\n                    });\r\n\r\n                    var $overlay = $('.modal-overlay');\r\n                    if ($overlay.length < 1) {\r\n                        $overlay = $(context.$helper.parseTemplate('overlay'));\r\n                    }\r\n\r\n                    $overlay.insertAfter(element);\r\n                    $overlay.show();\r\n\r\n                    context.$helper.triggerHandler(element, 'update');\r\n\r\n                    element.triggerHandler('modal.open');\r\n\r\n                    context.$helper.promise(function () {\r\n                        element.addClass('anim-start');\r\n                        $overlay.css('opacity', 0.6);\r\n                        context.$helper.triggerHandler(element, 'update');\r\n                    }, 25);\r\n\r\n                    context.$helper.bind($overlay, 'click', function (event) {\r\n                        context.local._prototype.close.call(context, element);\r\n                    });\r\n                },\r\n                close: function (element) {\r\n                    var context = this;\r\n\r\n                    context.local._visible = false;\r\n\r\n                    if (context.local._options.animation === true) {\r\n                        $('.modal-opener').removeClass('modal-opener');\r\n                    }\r\n\r\n                    element.removeClass('anim-start');\r\n                    element.hide();\r\n                    element.triggerHandler('modal.close');\r\n\r\n                    var $overlay = $('.modal-overlay');\r\n                    $overlay.css('opacity', 0);\r\n\r\n                    context.$helper.promise(function () {\r\n                        $overlay.hide();\r\n                    }, 300);\r\n\r\n                    context.$helper.unbind(element, 'click');\r\n                    context.$helper.unbind($overlay, 'click');\r\n                }\r\n            },\r\n            template: {\r\n                overlay: '<div class=\"modal-overlay\"></div>'\r\n            },\r\n            options: {\r\n                animation: false\r\n            }\r\n        });\r\n    }(jQuery));\r\n});"]}