{"version":3,"sources":["../../../../src/js/core/utils/method.js"],"names":["define","model","data","Method","name","settings","context","jQuery","extend","store","options","GLOBAL","init","method","template","route","id","self","args","arguments","length","Array","prototype","slice","call","map","e","i","push","ElementBinder","index","element","$this","_localVariables","_prototype","componentContext","$helper","getIdentifier","local","_options","_init","apply","concat","log","stack","window","each","_bind","names","split","idx","trim","bindFunc","fn","key"],"mappings":"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","file":"method.js","sourcesContent":["/**\r\n * A module representing a Method.\r\n * @module core/utils/method\r\n */\r\n define(['../models/index', './data'], (model, data) => {\r\n    /**\r\n     * @constructor\r\n     * @alias module:core/utils/method\r\n     * @description HOMEWORKS COMPONENT Create manager, This is core constructor for making HOMEWORKS COMPONENT.\r\n     * @see Refer an example document {@link https://kennethanceyer.gitbooks.io/homeworks-framework-wiki/content/DEVELOPMENT/ComponentMethod.html|here}.\r\n     * @author Kenneth <kenneth@igaworks.com>\r\n     * @param {string} name - COMPONENT Name.\r\n     * @params {Object} settings - COMPONENT Settings.\r\n     * @returns {Method}\r\n     */\r\n    const Method = function(name, settings) {\r\n        /*=================================================\r\n         *= NOTE - HOMEWORKS Component settings region.\r\n         *= DATE - 2016-01-19\r\n         *================================================*/\r\n        var context = this;\r\n\r\n        jQuery.extend(context, (new data(this, name)).store);\r\n\r\n        if (typeof settings.options !== 'undefined' && settings.options !== null) {\r\n            jQuery.extend(model.GLOBAL[name], settings.options);\r\n        }\r\n\r\n        /**\r\n         * @member {Function}\r\n         * @description The constructor of Component, This function will be called when Component mapping be started.\r\n         */\r\n        this.init = settings.init;\r\n\r\n        /**\r\n         * @member {Object<Function>}\r\n         * @description An object wrapped functions, This object is declared Component methods.\r\n         */\r\n        this.method = {\r\n            init: this.init\r\n        };\r\n\r\n        /**\r\n         * @member {Object<String>}\r\n         * @description An object wrapped templates, This object is declared templates which use in Component.\r\n         */\r\n        this.template = {\r\n        };\r\n\r\n        /**\r\n         * @member {Object<Any>}\r\n         * @description Options decleared by caller, You can default option in Method.\r\n         */\r\n        this.options = {\r\n        };\r\n\r\n        jQuery.extend(this.method, settings.method);\r\n        jQuery.extend(this.template, settings.template);\r\n        jQuery.extend(this.options, settings.options);\r\n\r\n        /*=================================================\r\n         *= NOTE - HOMEWORKS ROUTE START\r\n         *= DATE - 2017-01-10\r\n         *================================================*/\r\n\r\n        /**\r\n         * @function\r\n         * @description This function is core of Method, This is provider to collecting Component by call patterns.\r\n         * @param {string} id - Component unique id for give to internel of Component.\r\n         * @returns {jQuery}\r\n         */\r\n        this.route = function (name, id) {\r\n            var self = this;\r\n            var args = [];\r\n            if (arguments.length > 2) {\r\n                Array.prototype.slice.call(arguments, 2).map(function (e, i) {\r\n                    args.push(e);\r\n                });\r\n            }\r\n\r\n            var ElementBinder = function (index, element) {\r\n                var self = element;\r\n                var $this = jQuery(self);\r\n\r\n                if (typeof self.data === 'undefined') {\r\n                    self.data = {};\r\n                }\r\n                var _localVariables = self.data[name];\r\n\r\n                if (typeof _localVariables === 'undefined') {\r\n                    _localVariables = {\r\n                        '_id': id,\r\n                        '_init': false,\r\n                        '_prototype': {},\r\n                        '_options': jQuery.extend({}, context.options)\r\n                    };\r\n                    jQuery.extend(_localVariables._prototype, context.method);\r\n                }\r\n\r\n                var componentContext = jQuery.extend(self[context.$helper.getIdentifier()], {\r\n                    local: _localVariables,\r\n                }, context);\r\n\r\n                if (args.length === 0 || typeof args[0] === 'object') {\r\n                    // Function(obj) or Function() pattern.\r\n                    if (typeof args[0] === 'object') {\r\n                        // Function(obj) pattern.\r\n                        jQuery.extend(_localVariables._options, args[0]);\r\n                    }\r\n\r\n                    if (_localVariables._init === false) {\r\n                        _localVariables._init = true;\r\n                        context.init.apply(componentContext, [$this].concat(Array.prototype.slice.call(args)));\r\n                    }\r\n                } else if (typeof args[0] === 'string') {\r\n                    // Function(Method Name) pattern.\r\n                    try {\r\n                        if (_localVariables._init === false) {\r\n                            _localVariables._init = true;\r\n                            if (typeof context.method.init !== 'undefined') {\r\n                                context.method.init.apply(componentContext, [$this].concat(Array.prototype.slice.call(args, 1)));\r\n                            } else {\r\n                                context.init.apply(componentContext, [$this].concat(Array.prototype.slice.call(args, 1)));\r\n                            }\r\n                        }\r\n                        return context.method[args[0]].apply(componentContext, [$this].concat(Array.prototype.slice.call(args, 1)));\r\n                    } catch (e) {\r\n                        context.$helper.log(e.stack);\r\n                    }\r\n                } else {\r\n                    context.$helper.log('Component has been got invalid parameters.');\r\n                }\r\n                self.data[name] = _localVariables;\r\n            };\r\n\r\n            if (args.length > 0 && self === window) {\r\n                // Global basic function type - Function()\r\n                if(typeof this.data === 'undefined') {\r\n                    this.data = {};\r\n                }\r\n\r\n                var _localVariables = this.data[name];\r\n                if (typeof _localVariables === 'undefined') {\r\n                    _localVariables = {\r\n                        '_id': id,\r\n                        '_init': false,\r\n                        '_prototype': {},\r\n                        '_options': jQuery.extend({}, context.options)\r\n                    };\r\n                    this.data[name] = _localVariables;\r\n                    jQuery.extend(_localVariables._prototype, context.method);\r\n                }\r\n                var componentContext = jQuery.extend(window[context.$helper.getIdentifier()], {\r\n                    local: _localVariables,\r\n                }, context);\r\n                context.method.init.apply(componentContext, Array.prototype.slice.call(args));\r\n            } else {\r\n                // By element channing method type - Elem.method()\r\n                if (typeof self !== 'undefined') {\r\n                    return self.each(ElementBinder);\r\n                }\r\n            }\r\n        };\r\n        /*=================================================\r\n         *= NOTE - HOMEWORKS ROUTE END\r\n         *= DATE - 2017-01-10\r\n         *================================================*/\r\n\r\n        //============================================================================\r\n\r\n        if (context._bind === false) {\r\n            context._bind = true;\r\n            var names = name.split(',');\r\n\r\n            for (var idx in names) {\r\n                /* jshint ignore:start */\r\n                /* @DATE 2017. 01. 09 */\r\n                /* @USER Kenneth */\r\n                /* @NOTE 런타임 매개변수 독립 사용을 위한 IIFE 설정. */\r\n                (function () {\r\n                    var id = jQuery.trim(names[idx]);\r\n                    var bindFunc = function () {\r\n                        return context.route.apply(this, [name, id].concat(Array.prototype.slice.call(arguments)));\r\n                    };\r\n\r\n                    jQuery.fn[id] = bindFunc;\r\n                    window[id] = bindFunc;\r\n                } ());\r\n                /* jshint ignore:end */\r\n\r\n                /* jshint ignore:start */\r\n                /* @DATE 2016. 02. 22 */\r\n                /* @USER Kenneth */\r\n                /* @NOTE 함수 동적반영을 위한 jshint Escape 처리. */\r\n                for (var key in this.method) {\r\n                    if (typeof jQuery.fn[key] === 'undefined') {\r\n                        (function () {\r\n                            var id = jQuery.trim(names[idx]);\r\n                            var method = key;\r\n                            jQuery.fn[method] = function () {\r\n                                var _localVariables;\r\n                                var element = this[0];\r\n\r\n                                if(typeof element.data === 'undefined') {\r\n                                    element.data = {};\r\n                                }\r\n\r\n                                _localVariables = element.data[name];\r\n                                if (typeof _localVariables === 'undefined') {\r\n                                    _localVariables = {\r\n                                        '_id': id,\r\n                                        '_init': false,\r\n                                        '_prototype': {},\r\n                                        '_options': {}\r\n                                    };\r\n                                    element.data[name] = _localVariables;\r\n                                    jQuery.extend(_localVariables._prototype, context.method);\r\n                                }\r\n\r\n                                var componentContext = jQuery.extend(element[context.$helper.getIdentifier()], {\r\n                                    local: _localVariables,\r\n                                }, context);\r\n\r\n                                if (_localVariables._init === false) {\r\n                                    _localVariables._init = true;\r\n                                    if (typeof context.method.init !== 'undefined') {\r\n                                        context.method.init.apply(componentContext, [jQuery(this)].concat(Array.prototype.slice.call(arguments, 1)));\r\n                                    } else {\r\n                                        context.init.apply(componentContext, [jQuery(this)].concat(Array.prototype.slice.call(arguments, 1)));\r\n                                    }\r\n                                }\r\n\r\n                                return context.method[method].apply(componentContext, [jQuery(this)].concat(Array.prototype.slice.call(arguments)));\r\n                            };\r\n                        }());\r\n                    }\r\n                }\r\n                /* jshint ignore:end */\r\n            }\r\n        }\r\n    };\r\n    return Method;\r\n });"]}